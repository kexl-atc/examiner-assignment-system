class t{static toStorageDate(t){if(!t)return"";return`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")}`}static parseDate(t){if(!t)return new Date;if(/^\d{4}-\d{2}-\d{2}$/.test(t)){const e=t.split("-");return new Date(parseInt(e[0]),parseInt(e[1])-1,parseInt(e[2]))}const e=new Date(t);return isNaN(e.getTime())?new Date:e}static toStandardDate(t){if(!t)return"";if(t instanceof Date)return this.toStorageDate(t);const e=String(t).trim();if(/^\d{1,2}\.\d{1,2}$/.test(e)){const[t,a]=e.split("."),r=(new Date).getFullYear();return`${parseInt(t)<(new Date).getMonth()+1?r+1:r}-${t.padStart(2,"0")}-${a.padStart(2,"0")}`}if(/^\d{1,2}-\d{1,2}$/.test(e)){const[t,a]=e.split("-"),r=(new Date).getFullYear();return`${parseInt(t)<(new Date).getMonth()+1?r+1:r}-${t.padStart(2,"0")}-${a.padStart(2,"0")}`}if(/^\d{8}$/.test(e))return`${e.substring(0,4)}-${e.substring(4,6)}-${e.substring(6,8)}`;if(/^\d{4}-\d{1,2}-\d{1,2}$/.test(e)){const t=e.split("-");return`${t[0]}-${t[1].padStart(2,"0")}-${t[2].padStart(2,"0")}`}if(/^\d{1,2}月\d{1,2}日$/.test(e)){const t=e.replace("月","-").replace("日",""),[a,r]=t.split("-");return`${(new Date).getFullYear()}-${a.padStart(2,"0")}-${r.padStart(2,"0")}`}const a=new Date(e);if(!isNaN(a.getTime()))return this.toStorageDate(a);throw new Error(`无法识别的日期格式: ${e}`)}static toDisplayDate(t){const e=this.toStandardDate(t);if(!e)return"";const[,a,r]=e.split("-");return`${a}.${r}`}static getNextDay(t){const e=this.toStandardDate(t);if(!e)return"";const a=new Date(e);return a.setDate(a.getDate()+1),this.toStorageDate(a)}static getPreviousDay(t){const e=this.toStandardDate(t);if(!e)return"";const a=new Date(e);return a.setDate(a.getDate()-1),this.toStorageDate(a)}static isSameDay(t,e){try{const a=this.toStandardDate(t);return a===this.toStandardDate(e)}catch(a){return!1}}static isDateInRange(t,e,a){try{const r=this.toStandardDate(t),n=this.toStandardDate(e),s=this.toStandardDate(a);return r>=n&&r<=s}catch(r){return!1}}static toChineseDate(t){const e=this.toStandardDate(t);if(!e)return"";const[a,r,n]=e.split("-");return`${a}年${parseInt(r)}月${parseInt(n)}日`}static getDayOfWeek(t){const e=this.toStandardDate(t);if(!e)return"";return["星期日","星期一","星期二","星期三","星期四","星期五","星期六"][new Date(e).getDay()]}static getDayOfWeekIndex(t){const e=this.toStandardDate(t);if(!e)return-1;return new Date(e).getDay()}static getDaysDifference(t,e){try{const a=this.toStandardDate(t),r=this.toStandardDate(e),n=new Date(a),s=new Date(r),i=Math.abs(s.getTime()-n.getTime());return Math.ceil(i/864e5)}catch(a){return 0}}static compareDates(t,e){try{const a=this.toStandardDate(t),r=this.toStandardDate(e);return a>r?1:a<r?-1:0}catch(a){return 0}}static isDateInPast(t){try{const e=this.toStandardDate(t);return e<this.toStandardDate(new Date)}catch(e){return!1}}static getDaysAgo(t,e){const a=e||new Date;return a.setDate(a.getDate()-t),this.toStorageDate(a)}static toDateTimeString(t){if(!t)return"";return`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")} ${String(t.getHours()).padStart(2,"0")}:${String(t.getMinutes()).padStart(2,"0")}:${String(t.getSeconds()).padStart(2,"0")}`}static toTimeString(t){if(!t)return"";return`${String(t.getHours()).padStart(2,"0")}:${String(t.getMinutes()).padStart(2,"0")}`}static addMonths(t,e){const a=new Date(t),r=parseInt(e.toString(),10);return a.setMonth(a.getMonth()+r),a}static getStartOfMonth(t){return new Date(t.getFullYear(),t.getMonth(),1)}static getEndOfMonth(t){return new Date(t.getFullYear(),t.getMonth()+1,0)}static getStartOfNextMonth(t){return new Date(t.getFullYear(),t.getMonth()+1,1)}static getStartOfDay(t){const e=new Date(t);return e.setHours(0,0,0,0),e}}export{t as D};
