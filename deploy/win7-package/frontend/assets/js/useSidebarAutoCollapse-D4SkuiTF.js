import{h as e,n as t,U as n}from"./vendor-BDY1VVdw.js";const r={},s={},a=e=>{const t=(e=>`${e.getFullYear()}-${e.getMonth()}-${e.getDate()}`)(e);if(r[t]&&(e=>{const t=s[e];return!!t&&Date.now()<t+864e5})(t))return r[t];(()=>{const e=Date.now();Object.keys(s).forEach(t=>{e-s[t]>864e5&&(delete r[t],delete s[t])})})();const n=new Date(2025,8,4),a=new Date(e.getFullYear(),e.getMonth(),e.getDate()),o=(Math.floor((a.getTime()-n.getTime())/864e5)%4+4)%4,u=[{status:"白班",cardType:"duty-morning"},{status:"晚班",cardType:"duty-evening"},{status:"休息第一天",cardType:"duty-rest"},{status:"休息第二天",cardType:"duty-rest"}],d=[{group:"一组",status:"晚班",cardType:"duty-evening"},{group:"二组",status:"白班",cardType:"duty-morning"},{group:"三组",status:"休息第二天",cardType:"duty-rest"},{group:"四组",status:"休息第一天",cardType:"duty-rest"}];if(0===o)return r[t]=d,s[t]=Date.now(),d;const i=[];return d.forEach(e=>{const t=u.findIndex(t=>t.status===e.status),n=u[(t+o)%4];i.push({group:e.group,status:n.status,cardType:n.cardType})}),r[t]=i,s[t]=Date.now(),i},o=(e,t)=>a(e).find(e=>e.group===t)||null,u=(e,t=new Date)=>{if("行政班"===e.group)return{...e,shift:"行政班"};const n=o(t,e.group);return{...e,shift:n?n.status:"未排班"}};function d(r,s,a,o,u={}){const{mainContentPadding:d=64,sidebarWidth:i=280,sidebarCollapsedWidth:c=80,enableLogging:g=!1}=u,p=()=>{const e=document.querySelector(r),t=document.querySelector(s);if(!e||!t)return;const n=e.getBoundingClientRect(),u=t.getBoundingClientRect(),g=a()?c:i,p=n.width-g-d;u.width>p&&!a()&&o(!0)},y=(e=100)=>{setTimeout(p,e)},l=()=>{y(150)},h=()=>{window.innerWidth<=768&&!a()&&o(!0),y(100)},w=()=>{window.removeEventListener("resize",l)};return e(()=>{window.addEventListener("resize",l),t(()=>{h(),setTimeout(p,100)})}),n(()=>{w()}),{checkContentOverflow:p,checkContentOverflowDelayed:y,triggerCheck:()=>{t(()=>{p()})},handleResize:l,updateScreenSize:h,cleanup:w}}export{u as a,a as c,o as g,d as u};
