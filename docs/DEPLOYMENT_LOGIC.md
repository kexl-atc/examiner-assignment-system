# éƒ¨ç½²æ–‡ä»¶æ›´æ–°é€»è¾‘æ–‡æ¡£

## ğŸ“Œ ç‰ˆæœ¬ä¿¡æ¯
- **å½“å‰ç‰ˆæœ¬**: v8.0.15
- **æœ€åæ›´æ–°**: 2026-02-06
- **æ–‡æ¡£çŠ¶æ€**: âœ… å·²åŒæ­¥

---

## ğŸ—ï¸ éƒ¨ç½²æ–‡ä»¶æ¶æ„

```
é¡¹ç›®æ ¹ç›®å½•
â”‚
â”œâ”€â”€ ğŸ“ deploy/                          # éƒ¨ç½²ç›¸å…³æ–‡ä»¶
â”‚   â”œâ”€â”€ ğŸ“ java-runtime/                # Java è¿è¡Œæ—¶ (JDK 17)
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ scripts/                     # æ„å»ºè„šæœ¬ (å¼€å‘ç¯å¢ƒä½¿ç”¨)
â”‚   â”‚   â”œâ”€â”€ build-package.bat          # ã€ä¸»æ„å»ºè„šæœ¬ã€‘æ„å»º Win7 éƒ¨ç½²åŒ…
â”‚   â”‚   â”œâ”€â”€ deploy-win7.bat            # Win7 ç³»ç»Ÿéƒ¨ç½²å‘å¯¼
â”‚   â”‚   â”œâ”€â”€ check-compatibility.bat    # ç³»ç»Ÿå…¼å®¹æ€§æ£€æŸ¥
â”‚   â”‚   â””â”€â”€ manage.bat                 # ç®¡ç†å·¥å…·
â”‚   â”‚
â”‚   â””â”€â”€ ğŸ“ win7-package/                # ã€å®Œæ•´éƒ¨ç½²åŒ…ã€‘å¯å¤åˆ¶åˆ°ç›®æ ‡æœºå™¨
â”‚       â”œâ”€â”€ å¯åŠ¨æœåŠ¡-Win7å®Œæ•´ç‰ˆ.bat      # å¯åŠ¨æœåŠ¡ (ä¸»å…¥å£)
â”‚       â”œâ”€â”€ å¿«é€Ÿå¯åŠ¨-Win7å®Œæ•´ç‰ˆ.vbs      # æ— çª—å£å¯åŠ¨
â”‚       â”œâ”€â”€ åœæ­¢æœåŠ¡.bat                # åœæ­¢æœåŠ¡
â”‚       â”œâ”€â”€ deploy.bat                  # ç‹¬ç«‹éƒ¨ç½²è„šæœ¬
â”‚       â”œâ”€â”€ start.bat                   # å¯åŠ¨è„šæœ¬
â”‚       â”œâ”€â”€ stop.bat                    # åœæ­¢è„šæœ¬
â”‚       â”œâ”€â”€ VERSION.txt                 # ç‰ˆæœ¬ä¿¡æ¯
â”‚       â”œâ”€â”€ SimpleHttpServer.java       # å‰ç«¯ HTTP æœåŠ¡å™¨æºç 
â”‚       â”œâ”€â”€
â”‚       â”œâ”€â”€ ğŸ“ supervisor/              # æœåŠ¡ç®¡ç†å™¨ç›®å½•
â”‚       â”‚   â”œâ”€â”€ supervisor-headless.exe # æœåŠ¡ç®¡ç†å™¨
â”‚       â”‚   â”œâ”€â”€ config.json             # é…ç½®æ–‡ä»¶
â”‚       â”‚   â”œâ”€â”€
â”‚       â”‚   â”œâ”€â”€ ğŸ“ backend/
â”‚       â”‚   â”‚   â””â”€â”€ ğŸ“ app/
â”‚       â”‚   â”‚       â””â”€â”€ ğŸ“ quarkus-app/ # åç«¯ JAR åŠä¾èµ–
â”‚       â”‚   â”‚
â”‚       â”‚   â””â”€â”€ ğŸ“ frontend/
â”‚       â”‚       â””â”€â”€ ğŸ“ dist/            # å‰ç«¯æ„å»ºäº§ç‰©
â”‚       â”‚
â”‚       â”œâ”€â”€ ğŸ“ java-runtime/            # ç‹¬ç«‹ Java è¿è¡Œæ—¶
â”‚       â”œâ”€â”€ ğŸ“ data/                    # æ•°æ®åº“æ–‡ä»¶
â”‚       â””â”€â”€ ğŸ“ logs/                    # æ—¥å¿—æ–‡ä»¶
â”‚
â”œâ”€â”€ ğŸ“„ deploy.bat                       # æ ¹ç›®å½•éƒ¨ç½²å‘å¯¼
â”œâ”€â”€ ğŸ“„ start.bat                        # æ ¹ç›®å½•å¿«é€Ÿå¯åŠ¨
â”œâ”€â”€ ğŸ“„ stop.bat                         # æ ¹ç›®å½•åœæ­¢æœåŠ¡
â”‚
â””â”€â”€ ğŸ“„ package.json                     # é¡¹ç›®ç‰ˆæœ¬: 8.0.15
```

---

## ğŸ”„ æ›´æ–°é€»è¾‘æµç¨‹

### åœºæ™¯ 1: å¼€å‘äººå‘˜æ›´æ–°éƒ¨ç½²åŒ…

```
1. æ›´æ–°ä»£ç 
   â†“
2. ä¿®æ”¹ package.json ç‰ˆæœ¬å· (å¦‚: 8.0.15 â†’ 8.0.16)
   â†“
3. æ„å»ºå‰ç«¯
   npm run build:prod
   â†“
4. æ„å»ºåç«¯
   cd optaplanner-service && mvn clean package -Pproduction -DskipTests
   â†“
5. æ„å»ºéƒ¨ç½²åŒ…
   è¿è¡Œ deploy.bat â†’ é€‰æ‹© 3 (æ„å»ºéƒ¨ç½²åŒ…)
   æˆ–ç›´æ¥è¿è¡Œ: deploy\scripts\build-package.bat
   â†“
6. åˆ†å‘éƒ¨ç½²åŒ…
   å¤åˆ¶ deploy\win7-package\ åˆ°ç›®æ ‡ Win7 æœºå™¨
```

### åœºæ™¯ 2: åœ¨ç›®æ ‡æœºå™¨ä¸Šéƒ¨ç½²/æ›´æ–°

```
æ–¹å¼ A: é¦–æ¬¡éƒ¨ç½²
1. å¤åˆ¶ deploy\win7-package\ åˆ°ç›®æ ‡æœºå™¨ (å¦‚ C:\ExaminerSystem\)
2. è¿è¡Œ å¯åŠ¨æœåŠ¡-Win7å®Œæ•´ç‰ˆ.bat
3. ç³»ç»Ÿè‡ªåŠ¨:
   - åœæ­¢æ—§æœåŠ¡
   - ç¼–è¯‘ SimpleHttpServer.java
   - å¯åŠ¨åç«¯æœåŠ¡ (ç«¯å£ 8082)
   - å¯åŠ¨å‰ç«¯æœåŠ¡ (ç«¯å£ 8081)
   - æ‰“å¼€æµè§ˆå™¨

æ–¹å¼ B: æ›´æ–°ç‰ˆæœ¬
1. åœæ­¢å½“å‰æœåŠ¡ (è¿è¡Œ åœæ­¢æœåŠ¡.bat)
2. å¤‡ä»½ data\ ç›®å½• (ä¿ç•™æ•°æ®åº“)
3. ç”¨æ–°ç‰ˆæœ¬æ–‡ä»¶è¦†ç›–æ—§æ–‡ä»¶
4. è¿è¡Œ å¯åŠ¨æœåŠ¡-Win7å®Œæ•´ç‰ˆ.bat
```

---

## ğŸ“‹ ç‰ˆæœ¬åŒæ­¥æ£€æŸ¥æ¸…å•

å½“æ›´æ–°ç‰ˆæœ¬æ—¶ï¼Œéœ€è¦åŒæ­¥ä¿®æ”¹ä»¥ä¸‹æ–‡ä»¶:

| æ–‡ä»¶è·¯å¾„ | ä¿®æ”¹å†…å®¹ | è¯´æ˜ |
|---------|---------|------|
| `package.json` | `"version": "x.x.x"` | é¡¹ç›®ä¸»ç‰ˆæœ¬ |
| `deploy.bat` | `v8.0.x` | æ ¹ç›®å½•éƒ¨ç½²å‘å¯¼ |
| `start.bat` | `v8.0.x` | æ ¹ç›®å½•å¯åŠ¨è„šæœ¬ |
| `deploy/scripts/build-package.bat` | `v8.0.x` | æ„å»ºè„šæœ¬ç‰ˆæœ¬ |
| `deploy/scripts/deploy-win7.bat` | `v8.0.x` | Win7éƒ¨ç½²å‘å¯¼ç‰ˆæœ¬ |
| `deploy/win7-package/VERSION.txt` | `v8.0.x` | éƒ¨ç½²åŒ…ç‰ˆæœ¬ä¿¡æ¯ |

---

## ğŸ”§ å…³é”®è„šæœ¬è¯´æ˜

### 1. build-package.bat (æ„å»ºéƒ¨ç½²åŒ…)
**ä½ç½®**: `deploy/scripts/build-package.bat`

**åŠŸèƒ½**:
- æ£€æŸ¥å‰åç«¯æ„å»ºäº§ç‰©
- åˆ›å»ºéƒ¨ç½²ç›®å½•ç»“æ„
- å¤åˆ¶åç«¯æ–‡ä»¶ (quarkus-app)
- å¤åˆ¶å‰ç«¯æ–‡ä»¶ (dist)
- å¤åˆ¶ Java è¿è¡Œæ—¶
- å¤åˆ¶ Supervisor å¯æ‰§è¡Œæ–‡ä»¶
- åˆ›å»ºå¯åŠ¨/åœæ­¢è„šæœ¬
- ç”Ÿæˆ VERSION.txt

**è¾“å‡º**: `deploy/win7-package/` å®Œæ•´éƒ¨ç½²åŒ…

---

### 2. å¯åŠ¨æœåŠ¡-Win7å®Œæ•´ç‰ˆ.bat (ç”Ÿäº§ç¯å¢ƒå¯åŠ¨)
**ä½ç½®**: `deploy/win7-package/å¯åŠ¨æœåŠ¡-Win7å®Œæ•´ç‰ˆ.bat`

**åŠŸèƒ½**:
- åœæ­¢æ—§æœåŠ¡
- ç¼–è¯‘å‰ç«¯ HTTP æœåŠ¡å™¨
- å¯åŠ¨åç«¯æœåŠ¡ (ç«¯å£ 8082)
- å¯åŠ¨å‰ç«¯æœåŠ¡ (ç«¯å£ 8081)
- æ‰“å¼€æµè§ˆå™¨

**ç«¯å£**:
- 8081: å‰ç«¯ HTTP æœåŠ¡
- 8082: åç«¯ API æœåŠ¡
- 9090: Supervisor ç®¡ç†æ§åˆ¶å°

---

### 3. deploy.bat (æ ¹ç›®å½•å‘å¯¼)
**ä½ç½®**: `deploy.bat`

**åŠŸèƒ½**:
- æä¾›äº¤äº’å¼èœå•
- é€‰é¡¹ 1: éƒ¨ç½²åˆ° Win7 ç³»ç»Ÿ
- é€‰é¡¹ 2: æ£€æŸ¥ç³»ç»Ÿå…¼å®¹æ€§
- é€‰é¡¹ 3: æ„å»ºéƒ¨ç½²åŒ… â­æœ€å¸¸ç”¨
- é€‰é¡¹ 4: ç®¡ç†å·¥å…·
- é€‰é¡¹ 5: æ‰“å¼€éƒ¨ç½²åŒ…ç›®å½•

---

## âš ï¸ å¸¸è§é—®é¢˜

### Q1: æ ¹ç›®å½• start.bat æ‰¾ä¸åˆ° Supervisor
**åŸå› **: æ ¹ç›®å½•è„šæœ¬æœŸæœ›åœ¨ `deploy\supervisor\` æ‰¾åˆ°æœåŠ¡
**è§£å†³**: å·²ä¿®å¤ä¸ºè‡ªåŠ¨æ£€æµ‹ä¸¤ä¸ªä½ç½®:
- `deploy\supervisor\` (å¼€å‘ç¯å¢ƒ)
- `deploy\win7-package\supervisor\` (éƒ¨ç½²åŒ…)

### Q2: ç‰ˆæœ¬å·ä¸ä¸€è‡´
**ç°è±¡**: ä¸åŒè„šæœ¬æ˜¾ç¤ºä¸åŒç‰ˆæœ¬å·
**è§£å†³**: å·²ç»Ÿä¸€æ‰€æœ‰è„šæœ¬ç‰ˆæœ¬å·ä¸º 8.0.15

### Q3: å¦‚ä½•æ›´æ–°ç‰ˆæœ¬å·
**æ­¥éª¤**:
1. ä¿®æ”¹ `package.json` ä¸­çš„ version
2. æœç´¢å¹¶æ›¿æ¢æ‰€æœ‰è„šæœ¬ä¸­çš„ç‰ˆæœ¬å­—ç¬¦ä¸²
3. é‡æ–°è¿è¡Œ `build-package.bat`

---

## ğŸ“ ç»´æŠ¤è®°å½•

| æ—¥æœŸ | ç‰ˆæœ¬ | ä¿®æ”¹å†…å®¹ |
|------|------|---------|
| 2026-02-06 | 8.0.15 | ç»Ÿä¸€æ‰€æœ‰è„šæœ¬ç‰ˆæœ¬å·ï¼Œä¿®å¤ start.bat è·¯å¾„é—®é¢˜ |
| 2026-02-05 | 8.0.15 | æ„å»ºéƒ¨ç½²åŒ… |
| 2026-01-30 | 8.0.1 | Win7 éƒ¨ç½²ä¼˜åŒ– |

---

## âœ… éªŒè¯å‘½ä»¤

```powershell
# éªŒè¯ç‰ˆæœ¬ä¸€è‡´æ€§
Get-Content package.json | Select-String -Pattern '"version"'
Get-Content deploy.bat | Select-String -Pattern "v8\.0\."
Get-Content start.bat | Select-String -Pattern "v8\.0\."
Get-Content deploy\scripts\build-package.bat | Select-String -Pattern "v8\.0\."
Get-Content deploy\scripts\deploy-win7.bat | Select-String -Pattern "v8\.0\."
Get-Content deploy\win7-package\VERSION.txt | Select-String -Pattern "v8\.0\."
```
