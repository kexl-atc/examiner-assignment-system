# åç«¯æœåŠ¡å¯åŠ¨æŒ‡å—

**ç‰ˆæœ¬**: v6.1.3  
**æ—¥æœŸ**: 2025-01-02

---

## ğŸš€ å¿«é€Ÿå¯åŠ¨

### Windows

```powershell
# è¿›å…¥åç«¯ç›®å½•
cd optaplanner-service

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
.\mvnw.cmd quarkus:dev

# æˆ–ä½¿ç”¨Mavenï¼ˆå¦‚æœå·²å®‰è£…ï¼‰
mvn quarkus:dev
```

### Linux/Mac

```bash
# è¿›å…¥åç«¯ç›®å½•
cd optaplanner-service

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
./mvnw quarkus:dev

# æˆ–ä½¿ç”¨Mavenï¼ˆå¦‚æœå·²å®‰è£…ï¼‰
mvn quarkus:dev
```

---

## ğŸ“‹ å¯åŠ¨æ­¥éª¤è¯¦è§£

### 1. æ£€æŸ¥ç¯å¢ƒ

#### å¿…éœ€ç¯å¢ƒ
- **Java 17+**ï¼šQuarkuséœ€è¦Java 17æˆ–æ›´é«˜ç‰ˆæœ¬
- **Maven 3.8+**ï¼šç”¨äºæ„å»ºå’Œè¿è¡Œ

#### æ£€æŸ¥Javaç‰ˆæœ¬
```bash
java -version
# åº”è¯¥æ˜¾ç¤º java version "17" æˆ–æ›´é«˜
```

#### æ£€æŸ¥Mavenç‰ˆæœ¬
```bash
mvn -version
# æˆ–ä½¿ç”¨é¡¹ç›®è‡ªå¸¦çš„Maven Wrapper
./mvnw -version  # Linux/Mac
.\mvnw.cmd -version  # Windows
```

### 2. å¯åŠ¨å¼€å‘æœåŠ¡å™¨

#### ä½¿ç”¨Maven Wrapperï¼ˆæ¨èï¼‰

**Windows**:
```powershell
cd optaplanner-service
.\mvnw.cmd quarkus:dev
```

**Linux/Mac**:
```bash
cd optaplanner-service
./mvnw quarkus:dev
```

#### ä½¿ç”¨ç³»ç»ŸMaven

```bash
cd optaplanner-service
mvn quarkus:dev
```

### 3. éªŒè¯å¯åŠ¨æˆåŠŸ

å¯åŠ¨æˆåŠŸåï¼Œæ‚¨åº”è¯¥çœ‹åˆ°ï¼š

```
__  ____  __  _____   ___  __ ____  ______ 
 --/ __ \/ / / / _ | / _ \/ //_/ / / / __/ 
 -/ /_/ / /_/ / __ |/ , _/ ,< / /_/ /\ \   
--\___\_\____/_/ |_/_/|_/_/|_|\____/___/   
2025-01-01 12:00:00,000 INFO  [io.quarkus] (main) examiner-scheduler 6.1.2 on JVM (powered by Quarkus 2.16.12.Final) started in 2.345s. Listening on: http://0.0.0.0:8082
```

**å…³é”®ä¿¡æ¯**ï¼š
- âœ… `started in X.XXXs` - å¯åŠ¨æˆåŠŸ
- âœ… `Listening on: http://0.0.0.0:8082` - ç›‘å¬ç«¯å£8082

### 4. æµ‹è¯•åç«¯æœåŠ¡

#### æ–¹æ³•1: æµè§ˆå™¨è®¿é—®
æ‰“å¼€æµè§ˆå™¨ï¼Œè®¿é—®ï¼š
```
http://127.0.0.1:8082/api/health
```

åº”è¯¥è¿”å›ï¼š
```json
{"status":"ok"}
```

#### æ–¹æ³•2: ä½¿ç”¨è¯Šæ–­å·¥å…·
åœ¨æµè§ˆå™¨æ§åˆ¶å°è¿è¡Œï¼š
```javascript
window.__backendDiagnostics.check(8082).then(status => {
  if (status.isRunning) {
    console.log('âœ… åç«¯æœåŠ¡è¿è¡Œæ­£å¸¸ï¼')
    console.log('å“åº”æ—¶é—´:', status.responseTime, 'ms')
  } else {
    console.log('âŒ åç«¯æœåŠ¡æœªè¿è¡Œ')
  }
})
```

---

## ğŸ”§ å¸¸è§é—®é¢˜

### é—®é¢˜1: ç«¯å£è¢«å ç”¨

**é”™è¯¯ä¿¡æ¯**ï¼š
```
Address already in use: bind
```

**è§£å†³æ–¹æ¡ˆ**ï¼š

1. **æŸ¥æ‰¾å ç”¨ç«¯å£çš„è¿›ç¨‹**ï¼š
   ```bash
   # Windows
   netstat -ano | findstr 8082
   
   # Linux/Mac
   lsof -i :8082
   ```

2. **ç»ˆæ­¢å ç”¨è¿›ç¨‹**ï¼š
   ```bash
   # Windows (å‡è®¾PIDæ˜¯12345)
   taskkill /PID 12345 /F
   
   # Linux/Mac (å‡è®¾PIDæ˜¯12345)
   kill -9 12345
   ```

3. **æˆ–æ›´æ”¹ç«¯å£**ï¼š
   ç¼–è¾‘ `application.properties`ï¼š
   ```properties
   quarkus.http.port=8083
   ```

### é—®é¢˜2: Javaç‰ˆæœ¬ä¸å…¼å®¹

**é”™è¯¯ä¿¡æ¯**ï¼š
```
UnsupportedClassVersionError
```

**è§£å†³æ–¹æ¡ˆ**ï¼š
- å®‰è£…Java 17æˆ–æ›´é«˜ç‰ˆæœ¬
- è®¾ç½®JAVA_HOMEç¯å¢ƒå˜é‡
- éªŒè¯ï¼š`java -version`

### é—®é¢˜3: Mavenä¾èµ–ä¸‹è½½å¤±è´¥

**é”™è¯¯ä¿¡æ¯**ï¼š
```
Could not resolve dependencies
```

**è§£å†³æ–¹æ¡ˆ**ï¼š
```bash
# æ¸…ç†å¹¶é‡æ–°ä¸‹è½½ä¾èµ–
./mvnw clean install -U

# æˆ–ä½¿ç”¨å›½å†…é•œåƒï¼ˆå¦‚æœç½‘ç»œé—®é¢˜ï¼‰
# ç¼–è¾‘ ~/.m2/settings.xml æ·»åŠ é•œåƒé…ç½®
```

### é—®é¢˜4: æ•°æ®åº“è¿æ¥å¤±è´¥

**é”™è¯¯ä¿¡æ¯**ï¼š
```
Unable to acquire JDBC connection
```

**è§£å†³æ–¹æ¡ˆ**ï¼š
- æ£€æŸ¥H2æ•°æ®åº“æ–‡ä»¶æ˜¯å¦å­˜åœ¨
- æ£€æŸ¥æ•°æ®åº“æ–‡ä»¶æƒé™
- æŸ¥çœ‹ `application.properties` ä¸­çš„æ•°æ®åº“é…ç½®

---

## ğŸ¯ ç”Ÿäº§ç¯å¢ƒå¯åŠ¨

### æ„å»ºç”Ÿäº§ç‰ˆæœ¬

```bash
cd optaplanner-service

# æ„å»º
./mvnw clean package -DskipTests

# æˆ–åŒ…å«æµ‹è¯•
./mvnw clean package
```

### è¿è¡Œç”Ÿäº§ç‰ˆæœ¬

```bash
# æ–¹å¼1: ä½¿ç”¨Quarkus Runner
java -jar target/quarkus-app/quarkus-run.jar

# æ–¹å¼2: ä½¿ç”¨JARæ–‡ä»¶
java -jar target/examiner-scheduler-examiner-scheduler.jar
```

### ä½¿ç”¨ç”Ÿäº§é…ç½®

```bash
# ä½¿ç”¨ç”Ÿäº§é…ç½®æ–‡ä»¶
java -jar target/quarkus-app/quarkus-run.jar \
  -Dquarkus.profile=prod
```

---

## ğŸ“Š å¯åŠ¨å‚æ•°

### å¼€å‘ç¯å¢ƒ

```bash
# å¯ç”¨çƒ­é‡è½½
./mvnw quarkus:dev

# æŒ‡å®šç«¯å£
./mvnw quarkus:dev -Dquarkus.http.port=8083

# å¯ç”¨è°ƒè¯•
./mvnw quarkus:dev -Ddebug=5005
```

### æ€§èƒ½ä¼˜åŒ–

```bash
# ä½¿ç”¨ä½å†…å­˜é…ç½®
./mvnw quarkus:dev -Dquarkus.profile=low-memory

# ä½¿ç”¨æœ€å°é…ç½®
./mvnw quarkus:dev -Dquarkus.profile=minimal
```

---

## ğŸ” å¯åŠ¨æ—¥å¿—

### æŸ¥çœ‹å¯åŠ¨æ—¥å¿—

å¯åŠ¨æ—¥å¿—ä¼šæ˜¾ç¤ºåœ¨æ§åˆ¶å°ï¼ŒåŒæ—¶ä¹Ÿä¼šä¿å­˜åˆ°ï¼š
```
optaplanner-service/logs/backend.log
```

### å…³é”®æ—¥å¿—ä¿¡æ¯

- âœ… `Quarkus X.X.X started` - å¯åŠ¨æˆåŠŸ
- âœ… `Listening on: http://0.0.0.0:8082` - ç«¯å£ç›‘å¬
- âœ… `Database migration` - æ•°æ®åº“è¿ç§»
- âŒ `Failed to start` - å¯åŠ¨å¤±è´¥
- âŒ `Port already in use` - ç«¯å£è¢«å ç”¨

---

## ğŸ› ï¸ å¯åŠ¨è„šæœ¬

### Windowså¯åŠ¨è„šæœ¬

åˆ›å»º `start-backend.bat`ï¼š

```batch
@echo off
cd /d %~dp0
cd optaplanner-service
echo æ­£åœ¨å¯åŠ¨åç«¯æœåŠ¡...
call mvnw.cmd quarkus:dev
pause
```

### Linux/Macå¯åŠ¨è„šæœ¬

åˆ›å»º `start-backend.sh`ï¼š

```bash
#!/bin/bash
cd "$(dirname "$0")/optaplanner-service"
echo "æ­£åœ¨å¯åŠ¨åç«¯æœåŠ¡..."
./mvnw quarkus:dev
```

ä½¿ç”¨ï¼š
```bash
chmod +x start-backend.sh
./start-backend.sh
```

---

## âœ… å¯åŠ¨æ£€æŸ¥æ¸…å•

- [ ] Java 17+ å·²å®‰è£…
- [ ] Mavenå·²å®‰è£…æˆ–ä½¿ç”¨Maven Wrapper
- [ ] ç«¯å£8082æœªè¢«å ç”¨
- [ ] æ•°æ®åº“æ–‡ä»¶å¯è®¿é—®
- [ ] å¯åŠ¨å‘½ä»¤æ‰§è¡ŒæˆåŠŸ
- [ ] çœ‹åˆ°"Listening on: http://0.0.0.0:8082"
- [ ] å¥åº·æ£€æŸ¥æ¥å£è¿”å›200
- [ ] å‰ç«¯å¯ä»¥æ­£å¸¸è¿æ¥

---

## ğŸ¯ éªŒè¯å¯åŠ¨æˆåŠŸ

### å¿«é€ŸéªŒè¯

åœ¨æµè§ˆå™¨æ§åˆ¶å°è¿è¡Œï¼š

```javascript
// å®Œæ•´è¯Šæ–­
window.__backendDiagnostics.diagnose().then(result => {
  if (result.status === 'ok') {
    console.log('âœ… åç«¯æœåŠ¡è¿è¡Œæ­£å¸¸ï¼')
    console.log('ç«¯å£:', result.details.port)
    console.log('å“åº”æ—¶é—´:', result.details.responseTime, 'ms')
  } else {
    console.log('âŒ', result.message)
    console.log('è§£å†³æ­¥éª¤:')
    result.steps.forEach((step, i) => {
      console.log(`  ${i + 1}. ${step}`)
    })
  }
})
```

### æ‰‹åŠ¨éªŒè¯

1. **æµè§ˆå™¨è®¿é—®**ï¼š
   ```
   http://127.0.0.1:8082/api/health
   ```

2. **å‘½ä»¤è¡Œæµ‹è¯•**ï¼š
   ```bash
   curl http://127.0.0.1:8082/api/health
   ```

---

## ğŸ“ æ³¨æ„äº‹é¡¹

1. **å¼€å‘ç¯å¢ƒ**ï¼šä½¿ç”¨ `quarkus:dev` æ¨¡å¼ï¼Œæ”¯æŒçƒ­é‡è½½
2. **ç”Ÿäº§ç¯å¢ƒ**ï¼šå…ˆæ„å»ºå†è¿è¡Œï¼Œä½¿ç”¨ `quarkus-run.jar`
3. **ç«¯å£é…ç½®**ï¼šé»˜è®¤8082ï¼Œå¯åœ¨ `application.properties` ä¸­ä¿®æ”¹
4. **æ—¥å¿—ä½ç½®**ï¼š`optaplanner-service/logs/backend.log`
5. **æ•°æ®åº“**ï¼šä½¿ç”¨H2æ•°æ®åº“ï¼Œæ•°æ®æ–‡ä»¶åœ¨é¡¹ç›®ç›®å½•

---

**æ–‡æ¡£ç‰ˆæœ¬**: v1.0  
**æœ€åæ›´æ–°**: 2025-01-02

