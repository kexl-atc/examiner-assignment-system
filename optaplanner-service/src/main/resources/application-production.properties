# ========================================
# ğŸš€ ç”Ÿäº§ç¯å¢ƒä¸“ç”¨é…ç½® - ç‹¬ç«‹exeæ‰“åŒ…
# ========================================

# æ•°æ®åº“é…ç½® - ä½¿ç”¨åµŒå…¥å¼H2æ•°æ®åº“
quarkus.datasource.db-kind=h2
quarkus.datasource.username=sa
quarkus.datasource.password=
# ä½¿ç”¨æ–‡ä»¶æ•°æ®åº“ï¼Œæ”¯æŒæŒä¹…åŒ– - ç§»é™¤ä¸å…¼å®¹çš„å‚æ•°
quarkus.datasource.jdbc.url=jdbc:h2:file:./data/examiner_db;DB_CLOSE_DELAY=-1

# Flywayé…ç½® - è‡ªåŠ¨è¿ç§»æ•°æ®åº“
quarkus.flyway.migrate-at-start=true
quarkus.flyway.locations=classpath:db/migration
quarkus.flyway.baseline-on-migrate=true
quarkus.flyway.baseline-version=1.0.0

# Hibernateé…ç½® - ç”Ÿäº§ç¯å¢ƒä¼˜åŒ–
quarkus.hibernate-orm.database.generation=none
quarkus.hibernate-orm.log.sql=false
quarkus.hibernate-orm.validate-in-dev-mode=false
quarkus.hibernate-orm.sql-load-script=no-file
# è¿æ¥æ± é…ç½®
quarkus.datasource.jdbc.min-size=2
quarkus.datasource.jdbc.max-size=10
quarkus.datasource.jdbc.acquisition-timeout=5

# HTTPé…ç½® - ç”Ÿäº§ç¯å¢ƒä¼˜åŒ–
quarkus.http.port=8082
quarkus.http.host=0.0.0.0
quarkus.http.cors=true
# ğŸ”§ ä¿®å¤ï¼šå…è®¸æ‰€æœ‰æºï¼ˆå¼€å‘å’Œç”Ÿäº§ç¯å¢ƒé€šç”¨ï¼‰
quarkus.http.cors.origins=*
quarkus.http.cors.headers=*
quarkus.http.cors.methods=*
quarkus.http.cors.exposed-headers=*
quarkus.http.cors.access-control-allow-credentials=false

# RESTEasyé…ç½® - APIè·¯å¾„å‰ç¼€
quarkus.resteasy-reactive.path=/api
# å¯ç”¨å‹ç¼©
quarkus.http.enable-compression=true
# è®¾ç½®è¯·æ±‚è¶…æ—¶
quarkus.http.read-timeout=30s
quarkus.http.body.handle-file-uploads=true

# WebSocketé…ç½® - æ”¯æŒå®æ—¶é€šä¿¡
quarkus.websocket.max-frame-size=1048576
quarkus.websocket.dispatch-to-worker=false

# æ€§èƒ½ä¼˜åŒ–é…ç½®
quarkus.banner.enabled=false
quarkus.live-reload.instrumentation=false

# ========================================
# ğŸ“ æ—¥å¿—é…ç½® - ç”Ÿäº§ç¯å¢ƒä¼˜åŒ–
# ========================================
# å…¨å±€æ—¥å¿—çº§åˆ«
quarkus.log.level=WARN
quarkus.log.category."com.examiner.scheduler".level=INFO
quarkus.log.category."org.optaplanner".level=WARN
quarkus.log.category."org.optaplanner.core.impl.solver".level=WARN
quarkus.log.category."org.optaplanner.core.impl.constructionheuristic".level=ERROR
quarkus.log.category."org.optaplanner.core.impl.localsearch".level=ERROR
quarkus.log.category."org.optaplanner.core.impl.score".level=ERROR
quarkus.log.category."org.optaplanner.core.impl.score.director".level=ERROR
quarkus.log.category."org.optaplanner.core.impl.solver.DefaultSolver".level=INFO

# æ§åˆ¶å°æ—¥å¿—é…ç½® - å‡å°‘è¾“å‡º
quarkus.log.console.enable=true
quarkus.log.console.format=%d{HH:mm:ss} %-5p [%c{2.}] %s%e%n
quarkus.log.console.level=WARN

# æ–‡ä»¶æ—¥å¿—é…ç½® - ä¿å­˜é‡è¦æ—¥å¿—
quarkus.log.file.enable=true
quarkus.log.file.path=./logs/examiner-scheduler.log
quarkus.log.file.level=INFO
quarkus.log.file.format=%d{yyyy-MM-dd HH:mm:ss.SSS} %-5p [%c{3.}] (%t) %s%e%n
# æ—¥å¿—è½®è½¬é…ç½® - æ§åˆ¶æ–‡ä»¶å¤§å°
quarkus.log.file.rotation.max-file-size=20M
quarkus.log.file.rotation.max-backup-index=3
quarkus.log.file.rotation.file-suffix=.yyyy-MM-dd
quarkus.log.file.rotation.rotate-on-boot=true

# ========================================
# ğŸ”§ OptaPlanneré…ç½® - ç”Ÿäº§ç¯å¢ƒä¼˜åŒ–
# ========================================
# æ±‚è§£å™¨é…ç½® - å¹³è¡¡æ€§èƒ½å’Œè´¨é‡
quarkus.optaplanner.solver.termination.spent-limit=60s
quarkus.optaplanner.solver.termination.unimproved-spent-limit=15s
quarkus.optaplanner.solver.termination.best-score-limit=0hard/0soft

# ========================================
# ğŸ”§ Droolsé…ç½® - JREç¯å¢ƒå…¼å®¹
# ========================================
drools.dialect.java.compiler=ECLIPSE
drools.dialect.java.compiler.lnglevel=17
drools.compiler.lnglevel=1.8
drools.mvel.compiler.lnglevel=1.8
org.drools.compiler.kie.builder.impl.KieModuleKieProject.CheckKieModuleIntegrity=false
kie.maven.settings.custom=/dev/null

# ========================================
# ğŸ”§ JVMä¼˜åŒ–é…ç½®ï¼ˆé€šè¿‡å¯åŠ¨å‚æ•°è®¾ç½®ï¼‰
# ========================================
# è¿™äº›é…ç½®éœ€è¦åœ¨å¯åŠ¨æ—¶é€šè¿‡JVMå‚æ•°è®¾ç½®ï¼š
# -Xms512m -Xmx2g
# -XX:+UseG1GC
# -XX:MaxGCPauseMillis=200
# -XX:+UseStringDeduplication
# -Dfile.encoding=UTF-8
# -Dconsole.encoding=UTF-8
# -Djava.awt.headless=true
# -Dquarkus.profile=production

# ========================================
# ğŸ”§ å®‰å…¨é…ç½®
# ========================================
# ç¦ç”¨å¼€å‘æ¨¡å¼åŠŸèƒ½
quarkus.dev-ui.enabled=false
quarkus.swagger-ui.always-include=false
quarkus.health.enabled=true
quarkus.health.openapi.included=false

# ========================================
# ğŸ”§ èµ„æºé…ç½®
# ========================================
# é™æ€èµ„æºé…ç½®
quarkus.http.static-resources."/"=META-INF/resources/index.html
quarkus.http.static-resources."/static/*"=META-INF/resources/static